/*!
 * HooksJS - The set of hooks  (https://hooks.io)
 * Copyright 2024 by Serhii Pimenov
 * Licensed under MIT
 !*/
var Hooks=function(e){"use strict";let t=[],r=-1;const o={LOAD:"load",VIEWPORT:"viewport",ATTRIBUTE:"attribute",CHILDREN:"children",DATA:"data"},n={effect:e=>e,target:globalThis,event:"load",root:null};return e.USE_EFFECT_EVENTS=o,e.info=()=>{console.info("%c Hooks %c v0.7.0 %c 01.07.2024, 19:17:28 ","color: #ffffff; font-weight: bold; background: #5c2c05","color: white; background: darkgreen","color: white; background: #0080fe;")},e.useCompose=(...e)=>t=>e.reduceRight(((e,t)=>t(e)),t),e.useCurry=e=>function curried(...t){return t.length>=e.length?e.apply(this,t):function(...e){return curried.apply(this,t.concat(e))}},e.useDebounce=(e,t)=>{let r;return function(){clearTimeout(r),r=setTimeout((()=>{e.apply(this,arguments)}),t)}},e.useEffect=({effect:e,target:t,event:r,root:i}=n)=>{let u,s=r.toLowerCase();if("function"!=typeof e)throw Error("Effect must be a function!");if(!t)throw Error("Please specify a target element!");if(r===o.LOAD)u=t;else if("string"==typeof t)u=document.querySelector(t);else{if(!(t instanceof HTMLElement))throw Error("Invalid target element!");u=t}if(s===o.LOAD){const t=document.querySelector(u);if(null!==t)e(t);else{const t=new MutationObserver(((t,r)=>{const o=document.querySelector(u);null!==o&&(e(o),r.disconnect())}));t.observe(document.body,{childList:!0,subtree:!0})}}else if(s===o.VIEWPORT){let t=null===i?null:"string"==typeof i?document.querySelector(i):i;new IntersectionObserver(((t,r)=>{t.forEach((t=>{t.isIntersecting&&e(u)}))}),{root:t,rootMargin:"0px",threshold:.5}).observe(u)}else if(s===o.ATTRIBUTE){new MutationObserver((t=>{for(let r of t)r.target===u&&"attributes"===r.type&&e(u,r.attributeName,u.getAttribute(r.attributeName))})).observe(u,{attributes:!0})}else if(s===o.CHILDREN){new MutationObserver((t=>{for(let r of t)r.target===u&&"childList"===r.type&&e(u,r.addedNodes,r.removedNodes)})).observe(u,{childList:!0,subtree:!0})}else if(s===o.DATA){new MutationObserver((t=>{for(let r of t)r.target===u&&"characterData"===r.type&&e(u,u.textContent)})).observe(u,{characterData:!0})}},e.useEvent=e=>{let t,r,o,n;if("function"==typeof e)t=globalThis,r="load",o=e,n=!0;else{if("object"!=typeof e||e!=e)throw Error("Invalid argument type!");t=e.target||globalThis,r=e.event||"load",o=e.effect||(()=>{}),n=e.one||!1}if("string"==typeof t&&(t=document.querySelector(t)),"function"!=typeof o)throw Error("Effect must be a function!");const listener=e=>{n&&t.removeEventListener(r,listener),o(e)};return t.addEventListener(r,listener)},e.useMemo=e=>{const t=new Map;return function(...r){const o=""+r.length+r.join("+");if(t.has(o))return t.get(o);{const n=e(...r);return t.set(o,n),n}}},e.usePipe=(...e)=>t=>e.reduce(((e,t)=>t(e)),t),e.useState=(e,o)=>{const n=r++;t[n]={value:e};return[t[n],e=>{const r=t[n].value;t[n].value="function"==typeof e?e(r):e,"function"==typeof o&&o(t[n].value,r)}]},e.useThrottle=(e,t)=>{let r,o,n=!1;return function wrapper(){if(n)return r=this,void(o=arguments);e.apply(this,arguments),n=!0,setTimeout((function(){o&&(wrapper.apply(r,o),o=r=null)}),t)}},e}({});
