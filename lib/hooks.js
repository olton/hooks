
/*!
 * Hooks v0.12.1 (@olton/hooks)
 * Copyright 2025 by Serhii Pimenov <serhii@pimenov.com.ua>
 * Built: 20.02.2025, 10:55:44
 * Licensed under MIT
 */

"use strict";(()=>{var c=[],g=-1,m=(r,o)=>{let e=g++;c[e]={value:r};let n=t=>{let s=c[e].value;c[e].value=typeof t=="function"?t(s):t,typeof o=="function"&&o(c[e].value,s)};return[c[e],n]};var l=(s=>(s.LOAD="load",s.VIEWPORT="viewport",s.ATTRIBUTE="attribute",s.CHILDREN="children",s.DATA="data",s))(l||{}),b=({event:r,root:o,target:e,effect:n})=>{let t=typeof e=="string"?document.querySelector(e):e;if(typeof n!="function")throw Error("Side effect must be a function!");if(!t)throw Error("Please specify a target element!");switch(r){case"load":{new MutationObserver((i,u)=>{let a=document.querySelector(e);a!==null&&(n(a),u.disconnect())}).observe(document.body,{childList:!0,subtree:!0});break}case"viewport":{let i={root:o instanceof HTMLElement?o:typeof o=="string"?document.querySelector(o):null,rootMargin:"0px",threshold:.5};new IntersectionObserver((a,I)=>{for(let E of a)E.isIntersecting&&n(t)},i).observe(t);break}case"attribute":{new MutationObserver(i=>{for(let u of i)u.target===t&&u.type==="attributes"&&n(t,u.attributeName,t.getAttribute(u.attributeName))}).observe(t,{attributes:!0});break}case"children":{new MutationObserver(i=>{for(let u of i)u.target===t&&u.type==="childList"&&n(t,u.addedNodes,u.removedNodes)}).observe(t,{childList:!0,subtree:!0});break}case"data":{new MutationObserver(i=>{for(let u of i)u.target===t&&u.type==="characterData"&&n(t,t.textContent)}).observe(t,{characterData:!0});break}default:t instanceof HTMLElement&&t.addEventListener(r,s=>{n(t,s)})}};var d=r=>{let o=new Map;return(...e)=>{let n=`${e.length}${e.join("+")}`;if(o.has(n))return o.get(n);let t=r.apply(null,e);return o.set(n,t),t}};var v=(r,o)=>{let e;return function(...n){let t=()=>{r.apply(this,n)};clearTimeout(e),e=setTimeout(t,o)}};var w=(...r)=>o=>r.reduce((e,n)=>n(e),o);var k=r=>function o(...e){return e.length>=r.length?r.apply(this,e):function(...n){return o.apply(this,e.concat(n))}};var h=(...r)=>o=>r.reduceRight((e,n)=>n(e),o);var y=(r,o)=>{let e=!1,n,t;function s(...i){if(e){n=this,t=i;return}r.apply(this,i),e=!0,setTimeout(()=>{t&&(s.apply(n,t),t=n=null)},o)}return s};var f=new Map,x=0,T=(r,o="id")=>{if(f.has(r))return f.get(r);let e=`:${o}:${x++}`;return f.set(r,e),e};var M="2025",L="20.02.2025, 10:55:44",p=()=>{console.info(`%c Hooks %c v${M} %c ${L} `,"color: #ffffff; font-weight: bold; background: #5c2c05","color: white; background: darkgreen","color: white; background: #0080fe;")};var A={useState:m,useEvent:b,EVENTS:l,useMemo:d,useDebounce:v,usePipe:w,useCurry:k,useCompose:h,useThrottle:y,useId:T,info:p};globalThis.Hooks=A;p();})();
